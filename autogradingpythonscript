# python script to grade practise assignments
import os
# importing files using import module 
from importlib import import_module
import csv
#file to enter final grades,

# opening a csv file to write data
pathofcsvfile ='enter path here'
with open(pathofcsvfile, 'w') as csvfile:
   fieldnames = ['name', 'grade']
   writer = csv.DictWriter(csvfile, fieldnames=fieldnames)
   writer.writeheader()
   


# getting list of file names from the desired folder 
pathofdirectory='enter the path of directory here'
lista=os.listdir(pathofdirectory)
print((lista))


# removing autogenerated file in mac
lista.remove(".DS_Store")
lista.remove("__pycache__")


# importing files as module  
for element in lista[1:]:
   # assing intial score as zero
   score=0
   alist = element.split(".")
   module =__import__(alist[0])
   print(alist[0])
   
   
   
# calling functions on module
# test cases (write test cases here) , one such example of test cases for 6 funtions
   try:
      if(module.subtractThem(2,1) == 1):
         score=score+1
   except:
      pass
   
   try:
      if(module.addEm(1,2,3)==6):
         score=score+1
   except:
      pass   
   try:
      if(module.echo('hello',2)=='hellohello'):
         score=score+1
   except:
      pass      
   
   try:   
      if (module.addWords('hello','world')=='hellohellohellohellohelloworldworldworld'):
         score=score+1
   except:
      pass  
   try:  
      a=randint(0,100)
      print(a)
      b=randint(0,100)
      print(b)
      c=a+b
      print(c)
      lin=module.sumDescription(a,b)
      print(lin)
      if lin.find(str(a))==-1 or lin.find(str(b))==-1 or lin.find(str(c))==-1:
         score=score+0
      else:
         score=score+1
   except:
      pass
   try:   
      if(module.introduction("WWWWW","DDDDD")=="Hello. My name is WWWWW. I love the weather in DDDDD."):
         score=score+1
   except:
      pass   
   
# printing on console 
   print(score)
   
   
# writing data in a csv file
   with open('/Users/shanugandhi/Documents/tagrade/finalgradeassignment03.csv', 'a') as csvfile:
      fieldnames = ['name', 'grade']
      writer = csv.DictWriter(csvfile, fieldnames=fieldnames)
      writer.writerow({'name': alist[0], 'grade': score})   
          
          